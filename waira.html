<!DOCTYPE HTML>
<!--
	Arcana by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="es" xml:lang="es">
	<head>
		<title>🦜 TricahuePool</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header">

					<!-- Logo -->
						<h1><a id="logo">🦜 Programas</a></h1>

					<!-- Nav -->
					<nav id="nav">
						<ul>
							<li ><a href="index.html">Inicio</a></li>
							<li>
								<a >Informacion y Tutoriales</a>
								<ul>
									<li><a >Sobre Delegacion</a>
										<ul>
											<li><a href="queesladelegacion.html">¿Que es la delegacion?</a></li>
											<li><a href="comodelegar.html">¿Como Puedo Delegar?</a></li>
										</ul>
									</li>
									<li><a>Tutoriales Tecnicos</a>
										<ul>
											<li><a href="tjormunsystemd.html">Jormungandr con Systemd</a></li>
                                            <li><a href="iniciardaedalusconnodos.html">Iniciar Daedalus Testnet con/sin trusted peers</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="current"><a >Mis Programas</a>
							<ul>
								<li><a href="waira.html">Waira</a></li>
							</ul>
							</li>
							<li><a>Sobre TricahuePool</a>
								<ul>
								<li><a href="activitynews.html">Actividad del Pool</a></li>	
								<li><a href="mimaquina.html">Mi Pool</a></li>
								</ul>
							</li>
						</ul>
					</nav>

				</div>

			<!-- Main -->
				<section class="wrapper style1">
					<div class="container">
						<div id="content">

							<!-- Content -->

								<article>
									<header>
										<h2>Waira</h2>
										<p>Un Bot para gestionar Pool en linux.</p>
									</header>

									<span class="image featured"><img src="images/wairabanner.jpg" alt="" /></span>

									<p>Waira es un Bot escrito en C++ diseñado para distribuciones linux x86_64, trabaja en conjunto con el jcli y jormungandr este ultimo debe correr bajo <a href="tjormunsystemd.html">Systemd</a>. El Bot esta diseñado para mantener el nodo activo frente a inestabilidades de la red y actualizado cuando sale una nueva versión del jormungandr, además posee una integración con pooltool para poder enviar tu HeightBlock a su pagina.
										El Bot consta de un ejecutable "waira" y un archivo de configuración "waira.conf".</p>
										
										
										<p>El Código de este programa lo puedes descargar de Github.</p>
										<div class="box highlight">
											<i class="icon brands fa-github"></i>
											<h3> <a href="https://github.com/Exteroqs/Waira">Github "Repo Waira"</a> </h3>
										</div>

										<blockquote>
										<p>Waira debe ir en la misma carpeta donde se encuentra el jormungandr y el jcli, para que las actualizaciones automáticas funcionen.</p>
										<p>Jormungandr debe correr como un servicio bajo <a href="tjormunsystemd.html">Systemd</a>, el nombre del servicio debe llamarse "jormungandr.service", para que Waira pueda funcionar</p>
										</blockquote>


										<h3>El waira.conf</h3>
										<p>Es un archivo de configuración en formato JSON, si al momento de ejecutar waira no se encuentra el archivo de configuración este creara uno por defecto. Sus parámetros son los siguientes:</p>
										<p><strong>actualizaciones_automaticas</strong>: Es una opción booleana, un "true" habilita las actualizaciones automáticas y un "false" deshabilita las actualizaciones automáticas.</p>
										<p><strong>intervalo_tiempo_consulta_actualizaciones_automaticas</strong>: Indica en minutos, cada cuanto tiempo se realizara una comprobación de actualizaciones, por defecto son 60 minutos.</p>
										<p><strong>sendtip_pooltool</strong>: Esta es una opción booleana , un "true" habilita el envió de tu heightblock a pooltool y un "false" deshabilita el envió.</p>
										<p><strong>poolID</strong>: Aquí debes indica la id de tu pool.</p>
										<p><strong>userIDpooltool</strong>: Aqui debes indicar el id de tu usuario de pooltool.</p>
										<p><strong>port_rest:</strong> Aquí se debe indicar el puerto de tu rest.</p>
										<p><strong>intervalo_tiempo_consulta_rest</strong>: Indica en minutos, cada cuanto tiempo se realizara una consulta al rest para revisar los datos del pool, por defecto son 2 minutos.</p>
										<p><strong>retraso_tiempo_bloque_maximo_permitido</strong>: Indica en minutos, cuanto es el tiempo máximo de retraso permitido entre el bloque recibido y el tiempo de la máquina, si el tiempo es excedido, el pool se reinicia. Este sistema se usa en los casos en el que el pool quede pegado en algún bloque debido a un fork o por inestabilidad de la red. Por defecto son 10 minutos.</p>
										<p>La configuración debería verse como en la imagen de abajo.</p>
										<span class="image featured"><img src="images/wairaconf.jpg" alt="" /></span>
										<h3>Ejecución</h3>
										<p>Antes de ejecutar el programa es necesario ubicar el archivo "waira" dentro de la carpeta donde se encuentra el jormungandr y el jcli. Para ejecutar Waira debes hacerlo en modo administrador para que pueda interactuar con Systemd.</p>
										<p><code>sudo ./waira</code></p>
										<p>En caso de que falte algún requisito para poder funcionar correctamente el programa lo indicara al inicio de éste, como se ve en este ejemplo.  </p>
										<p style="background-color: beige"><code>      ****Iniciando Waira**** <br>
											-Programa de Gestión para Nodos de Cardano en Linux- <br>
											<br>
											Unit jormungandr.service could not be found. <br>
											* No se encontro el servicio jormungandr.service en systemd <br>
											</code></p>
										<p>Si todo funciona ok, deberías ver lo siguiente.</p>
										<p style="background-color: beige">     ****Iniciando Waira**** <br>
											-Programa de Gestion para Nodos de Cardano en Linux- <br>
											<br>
											* El servicio jormungandr.service en systemd existe <br>
											* Jcli encontrado <br>
											* Archivo de configuracion "waira.conf" encontrado <br>
											* Proceso de configuracion terminado * <br>
											<br>
												  **Comenzando monitoreo** <br>
											----------jormungandr 0.8.14-9ca427ef------------ <br>
											 El Pool Funciona Bien <br>
											 Mi lastBlockDate: 90.6518  (15% Epoca Completada) <br>
											 Mi HeightBlock: 298928   |  Pooltool HeightBlock:298929 <br>
											 Tiempo en linea: 53701 segundos <br>
											 % de Tiempo Operativo por Epoca: <br>
											 Detectada Nueva Epoca, Reiniciando el Conteo <br>
											------------------------------------------------- <br>
											</p>
										<p>Para detener el programa solo debes presionar CRTL+C y este se cerrara.</p>
										<p>Una vez que ves que todo funciona bien, si lo deseas, puedes dejar a Waira corriendo en segundo plano con: </p>
										<p><code>sudo ./waira>waira.log &</code></p>
										<p>De esta manera estamos guardando todos los registros del programa que suceden en segundo plano en el archivo waira.log, ahora en la terminal haciendo un "cat" en el archivo waira.log podremos ver todo lo registrado.</p>
										<p><code>cat waira.log</code></p>
										<p>Obtendrás algo similar a la imagen de abajo.</p>
										<span class="image featured"><img src="images/catwaira.jpg" alt="" /></span>
										<h3>Detener el proceso de segundo plano</h3>
										<p>Si deseas eliminar el proceso que está en segundo plano puedes usar htop para encontrarlo y eliminarlo, lo puedes abrir escribiendo htop en la terminal, si no está disponible deberás instalarlo con un simple:</p>
										<p><code>sudo apt install htop</code></p>
										<p>Ahora que ya lo tienes instalado, lo haces correr desde la terminar en modo administrador.</p>
										<p><code>sudo htop</code></p>
										<p>Para buscar nuestro proceso oprimes F4 y escribe "./waira" tal como se ve en la imagen.</p>
										<span class="image featured"><img src="images/htopwaira.jpg" alt="" /></span>
										<p>Ahora que lo encontraste presiona ENTER para seleccionar, luego oprimes F9 para seleccionar el modo KILL que es para detener procesos, éste despliega un menú de opciones puedes elegir el que se ve en la imagen.</p>
										<span class="image featured"><img src="images/htopkill.jpg" alt="" /></span>
										<p>Oprimes ENTER y listo, si lo buscas nuevamente ya no debería estar.</p>
										<blockquote>
											<p>Para salir de htop debes apretar la tecla q</p>
										</blockquote>
										
										<blockquote>
											<p>Dentro de las características que deseo agregar a futuro  (en el caso de que tenga suficiente stake para firmar un bloque y poder testearlo) es la capacidad de medir el performance del pool en base a sus bloques asignados vs los bloques creados y actualizar el stake en periodos donde no tenga asignado firmas de bloque.</p>
								</blockquote>
									</article>

					
							</div>
						</div>
					</section>
	
				<!-- Footer -->
					<div id="footer">
															<!-- Icons -->
															<ul class="icons">
																<li><a href="https://github.com/Exteroqs/Waira" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
																<li><a href="mailto:tricahuepool@protonmail.com" class="icon social fa-envelope"><span class="label">E-Mail</span></a></li>
																<li><a href="https://vimeo.com/tricahuepool" class="icon brands fa-vimeo"><span class="label">Youtube</span></a></li>
															</ul>
						<!-- Copyright -->
						<div class="copyright">
							<ul class="menu">
								<li>&copy; TricahuePool 2019. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a>
							</ul>
						</div>
	
					</div>
	
			</div>
	
			<!-- Scripts -->
				<script src="assets/js/jquery.min.js"></script>
				<script src="assets/js/jquery.dropotron.min.js"></script>
				<script src="assets/js/browser.min.js"></script>
				<script src="assets/js/breakpoints.min.js"></script>
				<script src="assets/js/util.js"></script>
				<script src="assets/js/main.js"></script>
	
		</body>
	</html>